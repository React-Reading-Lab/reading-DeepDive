## 리액트 개발 도구란?

- `react-dev-tools`
- 리액트에서 개발된 디버깅 도구, 리액트 네이티브에서도 사용 가능.
- 확장 프로그램으로 설치해서 사용할 수 있다.
    
    ![image](https://github.com/user-attachments/assets/80b6b8f8-706a-4b13-bf1f-f96fb52855ed)
    

### 컴포넌트

컴포넌트 트리를 확인할 수 있다. 익명함수나 고차 컴포넌트의 명칭 또한 제대로 추론하지 못할 수도 있다. 그래서 기명으로 작성해야 디버깅할 때 편하다. 그러나 기명으로 바꾸기 어렵다면 displayName 속성을 추가할 수도 있다.

컴포넌트별로 props, hooks, rendered by를 확인할 수 있다.

![image](https://github.com/user-attachments/assets/f4012cf5-161d-41e0-8598-165725e90a64)


### 프로파일러

리액트가 렌더링하는 과정에서 발생하는 상황을 확인하기 위한 도구다.(프로덕션 빌드로 실행하는 곳에서는 확인할 수 없음)

- Flamegraph: 렌더 커밋별로 어떤 작업이 일어났는지 나타냄
- Ranked: 렌더링에서 오랜 시간이 걸린 컴포넌트 순으로 나열
- 타임라인: 컴포넌트에서 시간별로 어떤 일이 일어났는지 알 수 있음
    
    ![image](https://github.com/user-attachments/assets/ac918da4-4b5c-46df-a1e7-4954c0b18c6a)


# 크롬 개발자 도구를 활용한 애플리케이션 분석

## **개발자 도구란?**

브라우저 환경에서 발생할 수 있는 문제를 디버깅할 수 있는 도구

> 시크릿 모드 혹은 프라이빗 모드로 개발자 도구를 여는 게 확장 프로그램의 영향을 받지 않아 디버깅을 제대로 할 수 있다.
> 

### 요소 탭

- 요소 탭: 웹페이지를 구성하고 있는 HTML, CSS 정보를 확인할 수 있다.
- 요소 화면: 웹페이지를 구성하는 HTML을 확인
    
    마우스 우클릭으로 중단 위치를 선택할 수 있으며, 중단과 관련된 작업이 일어날 때마다 브라우저가 렌더링을 중단하고 해당 요소 변경을 일으킨 소스코드를 보여준다.
    
- 요소 정보: 스타일, 계산됨, 레이아웃, 이벤트 리스너(명확하게 부착된 이벤트만 확인할 수 있음), DOM 중단점, 속성, 접근성

### 소스 탭

- 소스 탭: 웹을 실행하는데 필요한 소스 코드나 참조된 파일을 모두 볼 수 있음
    
    감시, 중단점, 범위, 호출 스택, 전역 리스너, XHR/가져오기
    

### 네트워크 탭

- 네트워크 탭: 웹페이지를 접속하는 순간부터 발생하는 모든 네트워크 관련 작동이 기록됨
- 집중적으로 확인하면 좋을 것
    - 불필요한 요청 / 중복된 요청
    - 리소스 크기(gzip, brotli 활용 가능)
    - 리소스를 불러오는 속도
    - 리소스의 다운로드 속도가 올바른지

### 메모리 탭

- 메모리 탭: 웹 페이지가 차지하고 있는 메모리 관련 정보를 확인할 수 있음
    
    메모리 누수, 속도 저하, 웹페이지 프리징 현상을 확인할 수 있음
    
- 프로파일링을 통해 메모리 상태를 알아볼 수 있음
    - 힙 스냅샷: 메모리 상황을 사진 찍듯이 촬영할 수 있다
        
        ![image](https://github.com/user-attachments/assets/78a715f0-05c2-4a22-8f6d-5c6cfa233dce)

        
    - 타임라인의 할당 계측: 시간의 흐름에 따라 메모리의 변화를 살펴본다
        
        ![image](https://github.com/user-attachments/assets/58ed4b63-d604-4c61-b939-e45010ad0d73)

        
    - 할당 샘플링: 메모리 공간을 차지하고 있는 자바스크립트 함수를 볼 수 있다
        
        ![image](https://github.com/user-attachments/assets/fbc15a9b-c231-48b9-a895-b898878817f4)

        
- 자바스크립트 VM 인스턴스를 선택할 때 현재 실행 중인 자바스크립트 VM을 확인할 수 있음

## Next.js 환경 디버깅하기

SSR을 수행할 때는 메모리 누수가 발생하면 서버에서 부담이 발생하기 때문에 주의해야 한다.

1. Next.js에서 디버깅을 하려면 프로젝트를 디버그 모드로 실행
    
    ```tsx
    "dev": NODE_OPTIONS='--inspect' next dev
    ```
    
2. `chrome://inspect/#devices` 주소로 접근
    
   ![image](https://github.com/user-attachments/assets/ac4bc0ed-e4b8-454e-8e03-72fc05e04946)

    
4. 트래픽 테스트
    
    ```tsx
    ab -k -c 50 -n 10000 "http://localhost:3000/"
    ```
    
5. 메모리 도구로 프로파일링
