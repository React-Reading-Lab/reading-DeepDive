# 웹페이지 성능을 측정하는 다양한 방법

다양한 웹 성능 지표를 단순히 개발자의 컴퓨터에서 확인하는 방법부터 원격지에 있는 서버에서 확인하는 방법까지, 웹 페이지의 성능을 객관적으로 파악하는 방법을 익혀보자.

## 애플리케이션에서 확인하기

### create-react-app

`create-react-app`을 통해 한번이라도 프로젝트를 생성해 본 적이 있다면 `reportWebVitals.ts` 라는 파일을 본 적이 있을 것이다.

```jsx
// reportWebVitals.ts

import { ReportHandler } from "web-vitals";

const reportWebVitals = (onPerfEntry?: ReportHandler) => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    import("web-vitals").then(({ getCLS, getFID, getFCP, getTTFB }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

export default reportWebVitals;
```

`reportWebVitals` 함수는 웹에서 성능을 측정하기 위한 함수다. 누적 레이아웃 이동(CLS), 최대 콘텐츠풀 페인트(LCP), 최초 입력 지연(FID), 최초 콘텐츠풀 페인트(FCP), 최초 바이트까지의 시간(TTFB)을 측정하는 용도다.

`web-vitals` 라이브러리는 `PerformanceObserver` 라는 API를 사용해서 이러한 지표 측정이 가능하게 한다. 때문에 해당 API를 제공하지 않는 브라우저에서는 web-vitals의 도움을 받아 성능을 측정하기 어렵다.

- ReportHandler는 단순히 성능 객체인 Metirc을 인수로 받는 타입이다. Metric을 원하는대로 다룰 수 있다. 즉, 단순히 콘솔에 출력하는 것뿐만 아니라 서버로 전송하는 작업도 가능하다.
  - 단순히 console.log로 기록한다면 브라우저의 콘솔 창에 기록하는 용도로밖에 사용할 수 없다. 만약 실제로 서버 등 어딘가에 기록하고 싶다면, 소량의 분석용 데이터를 전송하기 위해 만들어진 sendBeacon API나 fetch API 등을 사용해서 서버나 구글 애널리틱스로 정보를 보낼 수 있다.

### create-next-app

Next.js도 성능 측정을 할 수 있는 `NextWebVitalsMetric`을 제공한다. `_app` 페이지에 다음과 같이 코드를 추가해서 사용할 수 있다.

```jsx
import { AppProps, NextWebVitalsMetric } from "next/app";

/**
 * @description 메트릭을 측정한다.
 */
/*
export declare type NextWebVitalsMetric = {
	id: string;
	startTime : number;
	value : number;
} & ({
	label : 'web-vital';
	name : 'FCP' | 'LCP' | 'CLS' | 'FID' | 'TTFB' | 'INP';
} | {
	lable : 'custom',
	name : 'Next.js-hydration' | 'Next.js-route-change-to-render' | 'Next.js-render';
})
*/

export function reportWebVitals(metric: NextWebVitalsMetric) {
  console.log(metric);
}

function MyApp({ Component, pageProps }: AppProps) {
  return <Component {...pageProps} />;
}

export default MyApp;
```

한 가지 주목할 점은, 기본적인 핵심 웹 지표 외에도 다음과 같은 Next.js에 특화된 사용자 지표도 제공한다는 점이다. (모든 단위는 밀리초이다.)

- Next.js-hydration : 페이지가 서버 사이드에서 렌더링되어 하이드레이션하는 데 걸린 시간
- Next.js-route-chage-to-render : 페이지가 경로를 변경한 후 페이지를 렌더링을 시작하는 데 걸린 시간
- Next.js-render : 경로 변경이 완료된 후 페이지를 렌더링하는데 걸린 시간

Next.js는 최초에 서버 사이드 렌더링을 수행하기 때문에 필연적으로 리액트의 하이드레이션 작업이 뒤따른다. `Next.js-hydration` 지표는 리액트의 하이드레이션에 걸리는 시간을 알려준다. 이후 클라이언트 사이드 라우팅이 일어나는 한 `Next.js-route-change-to-render` 와 `Next.js-render`만 번갈아 나타나게 된다.

## 구글 라이트하우스

`reportWebVitals` 를 설치해서 지표를 수집하는 방식은 단순히 코드 몇 줄만으로 지표를 수집할 수 있는 장점이 있지만, 그럼에도 아래 두 가지 단점이 있다.

- 기존 앱 코드의 수정이 필요하다는 점
- 그리고 별도의 지표 수집을 하기 위한 사전 준비가 필요하다는 번거로움이 있는 점

이에 반해 별도의 앱 코드 수정이나 배포, 수집 없어도 지표를 수집할 수 있는 방법이 있는데, 바로 **구글 라이트하우스(Google Lighthouse)** 이다.

구글 라이트하우스는 구글에서 제공하는 웹 페이지 성능 측정 도구로, 오픈 소스로 운영되고 있다. 앞서 살펴 본 핵심 웹 지표뿐만 아니라 접근성, PWA, SEO 등 웹 페이지를 둘러싼 다양한 요소들을 측정하고 점검할 수 있다.

구글 라이트하우스를 실행하는 방법은 다음과 같다.

- 브라우저 확장 프로그램 설치 : 브라우저의 웹 스토어에 접속해 확장 프로그램을 설치한다.
  - 크롬
  - 파이어폭스
- 크롬 개발자 도구 : 크롬의 개발자 도구에는 라이트하우스가 기본적으로 내장돼있다.
- CLI : lighthouse라는 npm 라이브러리를 이용하면 CLI 명령어로 지표 수집 가능
  - 깃허브 액션 등 터미널만 제한적으로 사용할 수 있는 CI/CD 환경에서 사용하기에 적합하다.

크롬의 라이트하우스를 통해 각 기능을 알아보자.

- 모드 : 탐색, 기간, 스냅샷 중 하나를 선택할 수 있다.
- 접근 환경 : 측정하고자 하는 페이지 접근 환경을 선택한다.
- 카테고리 : 확인하고 싶은 지표를 선택할 수 있다.

### 구글 라이트하우스 - 탐색 모드

일반적으로 **페이지에 접속했을 때부터 페이지 로딩이 완료될 때까지의 성능을 측정**하는 모드다. 이 모드로 측정을 시작하면 페이지를 처음부터 다시 불러와서 페이지 로딩이 끝날 때까지 각각의 지표를 수집한다.

<img src="https://github.com/user-attachments/assets/ea5125a0-e57a-440a-9abc-3ee1fcd865c0" width="600px" />

지표 수집이 완료되면 위와 같은 리포트가 생성된다.

#### 성능

- 웹페이지의 성능과 관련된 지표를 확인할 수 있는 영역이다.
- 핵심 웹 지표인 최초 콘텐츠풀 페인트(FCP), 최대 콘텐츠풀 페인트(LCP), 누적 레이아웃 이동(CLS) 외에도 3가지 추가적인 지표가 있다.
  - Time to Interactive (TTI) : 페이지에서 사용자가 완전히 상호작용(인터랙션)할 수 있을 때까지 걸리는 시간을 측정한다.
    - `여기서 상호작용에 걸리는 시간까지`란 다음과 같은 것을 의미한다.
      - 최초 콘텐츠풀 페인트로 측정되는 페이지 내 콘텐츠가 표시되는 시점
      - 보여지는 페이지 요소의 대부분에 이벤트 핸들러가 부착되는 시점
      - 페이지가 유저의 상호작용에 50ms 내로 응답하는 시점
    - 웹페이지가 최대한 빠르게 상호작용이 되도록 준비하려면, 메인스레드가 하는 JS 작업을 최소화하고, 전체적인 JS 실행 속도 또한 높일 필요가 있다.
  - Speed Index : 페이지가 로드되는 동안 콘텐츠가 얼마나 빨리 시각적으로 표시되는지를 계산한다.
    - 라이트하우스는 브라우저에서 로드되는 페이지를 실시간으로 캡처하고, Speedline 라이브러리를 사용해 캡처된 이미지를 분석해 speed index를 계산한다.
  - Total Blocking Time : 메인 스레드에서 실행하는 작업이 50ms 이상 걸리면 이를 긴 작업으로 간주하고, 이렇게 실행되는 긴 작업을 모아서 `Total Blocking Time(총 차단 시간)` 이라고 한다.
    - 총 차단 시간은 긴 작업을 모아서 각각의 긴 작업의 시간에서 50ms를 뺀 다음, 이를 모두 합해 계산한다.
    - 이 총 차단 시간은 모든 긴 작업을 대상으로 하는 것이 아니고, 최초에 사용자에게 무언가 콘텐츠를 보여줬을 때(최초 콘텐츠풀 페인트, FCP)부터 상호 작용까지 걸리는 시간(TTI) 사이의 작업만 대상으로 한다.

#### 접근성

여기서의 접근성이란 **웹 접근성**을 말한다.

- 접근성? : 장애인 및 고령자 등 신체적으로 불편한 사람들이 일반적인 사용자와 동등하게 웹페이지를 이용할 수 있도록 보장하는 것

시각적으로 웹페이지를 보기 어려운 경우 **스크린 리더** 툴을 활용해 웹페이지의 내용을 직접 들을 수 있다. 그림이나 사진의 경우도 이 스크린 리더가 읽을 수 있는 적절한 대체 문자가 필요하다.

오디오나 비디오는 청각이 제한적인 경우를 위해 자막이 필요하며, 마우스를 활용할 수 없는 상황에 대비하기 위해서는 키보드만으로 모든 콘텐츠에 접근할 수 있어야 한다.

이처럼, `다양한 사용자를 배려하기 위해 HTML과 CSS 등에 적절한 대안을 삽입하는 것을 접근성` 이라고 한다.

라이트하우스에서는 이 접근성 또한 평가하여 점수로 산출한다.

<img src="https://github.com/user-attachments/assets/2aabc879-e127-4ce9-af81-d0b0061095ca" width="600px" />

- 접근성 점수가 낮거나 미비한 부분이 있으면 이 영역에서 확인할 수 있으며, 어떻게 수정해야 하는지도 알려준다.
- 이 영역을 참고해 다양한 사용자들이 모두 평등하게 웹을 이용할 수 있도록 개선하는 것이 좋다.

#### 권장사항

권장사항 영역에서는 웹사이트를 개발할 때 고려애햐 할 요소들을 얼마나 지키고 있는 지 확인할 수 있다.

보안, 표준 모드, 최신 라이브러리, 소스 맵 등 다양한 요소들이 포함돼 있다.

<img src="https://github.com/user-attachments/assets/14a90957-92d4-4978-8fac-d12d4aa4cbca" width="600px" />

CSP가 XSS 공격에 효과적인지 확인, HTTPS 사용, 사용자가 비밀번호 입력란에 붙여넣을 수 있도록 허용 등 다양한 권장사항들이 있다.

#### 검색 엔진 최적화

검색엔진 최적화란, **웹페이지가 구글과 같은 검색엔진이 쉽게 웹페이지 정보를 가져가서 공개할 수 있도록 최적화돼 있는지를 확인하는 것**을 의미한다.

단순히 문서를 크롤링하기 쉽게 만들었는지 확인하는 것부터, robots.txt가 유효한지, 이미지와 링크에 설명 문자가 존재하는지, `<meta>` 나 `<title>` 등으로 페이지의 정보를 빠르게 확인할 수 있는지 등을 확인한다.

검색엔진에 최적화돼 있을수록 검색 엔진의 검색결과 우선순위에 높게 나타난다. 따라서 검색엔진 최적화를 위한 다양한 요소들을 확인하고 점검해야 한다.

### 구글 라이트하우스 - 기간 모드

탐색 모드가 페이지가 로딩되면서 지표를 측정한 것이라면, 기간 모드는 **실제 웹페이지를 탐색하는 동안 지표를 측정**하는 것이다.

기간 모드 시작을 누른 뒤 성능 측정을 원하는 작업을 수행한 다음, 기간 모드를 종료하면 그 사이에 일어난 작업들에 대한 지표를 다음과 같이 확인할 수 있다.

확인할 수 있는 지표들은 크게 **성능**과 **권장 사항**으로, 대다수의 사용자가 빈번하게 수행할 것으로 예상되는 작업을 기간 모드로 측정하면 성능 최적화에 도움이 될 수 있다.

탐색 모드에서 볼 수 없었던 두 가지 내용을 확인할 수 있다. **흔적**과 **트리맵**이다.

#### 흔적

`View Trace`를 번역해서 `흔적` 이다. 웹 성능을 추적한 기간을 성능 탭에서 보여준다.

단순히 구글에서 제안하는 감사를 보여주는 정도를 넘어서, 상세하게 시간의 흐름에 따라 어떻게 웹페이지가 로딩됐는지를 보여준다. (클릭 시 개발자 도구 성능 탭으로 이동한다. 측정한 기간읭 성능을 파악할 수 있다.)

#### 트리맵

페이지를 불러올 때 함께 로딩한 모든 리소스를 모아서 볼 수 있는 곳이다.

웹페이지 전체 JS 리소스 중 어떤 파이리 전체 데이터 로딩 중 어느 정도를 차지했는지를 비율로 확인할 수 있다. 실제 불러온 데이터의 크기도 확인할 수 있다.

- 또한, 로딩한 리소스에서 사용하지 않은 바이트의 크기도 확인 가능하다. 하지만 특정 시나리오에서만 실행되는 리소스도 있기 때문에, 사용하지 않는 바이트로 잡혀도 꼭 필요하지 않다는 의미가 되는 것은 아니다.

### 구글 라이트하우스 - 스냅샷

스냅샷 모드는 탐색 모드와 매우 유사하지만 현재 페이지 상태를 기준으로 분석한다는 점이 다르다. 즉, **현재 상태에서 검색엔진의 최적화, 접근성, 성능 등을 분석**할 수 있다.

스냅샷 모드의 지표는 탐색 모드와 매우 유사하다.

앞서 다른 모드와 다르게 일정 기간 분석을 수행하지 않기 때문에 분석할 수 있는 내용이 제한적이다.

## WebPageTest

WebPageTest는 웹사이트 성능을 분석하는 도구로 가장 널리 알려져있다.

WebPageTest에서 제공하는 분석 도구는 크게 다섯 가지다.

- Site Performance : 웹사이트의 성능 분석을 위한 도구
- Core Web Vitals : 웹사이트의 핵심 웹 지표를 확인하기 위한 도구
- Lighthouse : 구글 라이트하우스 도구
- Visual Comparison : 2개 이상의 사이트를 동시에 실행해 시간의 흐름에 따른 로딩 과정을 비교하는 도구
- Traceroute : 네트워크 경로를 확인하는 도구

기본적으로 WebPageTest는 미국, 인도, 캐나다, 독일 등 한국과 어느 정도 거리가 먼 서버를 기준으로 테스트하기 때문에, 앞서 크롬 개발자 도구에서 테스트했을 때보다 성능 지표가 좋지 않을 가능성이 매우 높다.

### 검사 방법 (Site Performance)

1. https://www.webpagetest.org/ 에 접속한 후 Site Performance를 선택한 뒤 분석을 원하는 웹사이트 주소를 입력한다.
2. Start Test를 누른다.

### Performance Summary

WebPageTest의 성능 테스트는 총 3번 이뤄지기 때문에 3개의 서로 다른 결과를 확인할 수 있다.

측정 결과 페이지는 크게 세 가지 영역으로 나눠져 있다.

- Opportunities & Experiments : 웹사이트에 대한 평가를 총 3가지로 나눠서 보여줌.
  <img src="https://github.com/user-attachments/assets/9363fca5-9c5e-488c-a4d3-5fbf19dec63e" width="600px" />
  - is it Quick : 웹사이트가 충분히 빠른지를 평가. 최초 바이트까지의 시간(TTFB)이 짧은지, 콘텐츠 렌더링이 즉각적으로 일어나는지, 최대 콘텐츠풀 페인트(LCP) 시간이 합리적인지를 확인
  - Is it Usable : 웹사이트의 사용성과 시각적인 요소를 확인한다. 콘텐츠 누적 이동(CLS)를 최소화하고 있는지, 상호작용을 빠르게 할 수 있는지, 접근성 이슈가 있는지, 클라이언트 사이드에서 과도하게 HTML을 많이 렌더링하는 지 등을 점검.
  - Is it Resilient : 보안 취악성을 점검. 렌더링을 블로킹하는 제 3자 라이브러리가 존재하는지, 실질적인 위협이 되는 보안 위험 요소가 있는지를 점검.
- Observerd Metrics(Page Performance Metrics로 바뀐 것 같음) : 최초 바이트까지의 시간, 렌더링 시작에 소요되는 시간, 최초 콘텐츠풀페인트 등 측정할 수 있는 다양한 시간 지표에 대해 나타낸다.
  - 시간의 흐름에 따라 웹페이지가 어떤 식으로 렌더링됐는 지 알 수 있다.
  - 스크린샷의 각 색깔별 의미가 다 다르다.
    - 주황색 실선 : 웹사이트 웹사이트의 모습이 변경된 경우
    - 주황색 점선 : 웹사이트의 모습이 변경됐고, 레이아웃 이동도 일어난 경우,
    - 빨간색 실선 : 최대 콘텐츠풀 페인트
    - 빨간색 점선 : 최대 콘텐츠풀 페인트와 동시에 레이아웃 이동도 일어난 경우
- Individual Runs : 기본적으로 WebPageTest는 3번의 테스트를 돌려서 평균값을 보여주는데, 각 실행별로 어떠한 결과를 보여주는지 확인할 수 있다.

### Opportunities & Experiments

앞서 요약으로 간단하게 보여줬던 Opportunities & Experiments에 대한 자세한 내용을 확인할 수 있다.

최초 바이트까지의 시간(TTFB), 렌더링 하는 블로킹 요소의 유무, 최초 콘텐츠풀 페인트, 게으른 로딩 이미지의 유무, 제 3자 호스트에서 폰트를 불러오는 지 등을 확인한다.

- 이제 폰트는 캐싱되지 않으므로 제 3자 호스트에서 폰트를 불러오는 것은 크게 이점이 없다.
  - 예를 들어 구글 폰트(Google Fonts)는 글로벌 CDN을 통해 배포되어 캐싱 이점을 활용하도록 설계되었었다.
  - 하지만 2020년 10월 출시된 Chrome v86 이후, 글꼴과 같은 크로스 사이트 리소스를 더이상 동일한 CDN에서 공유할 수 없게 되었다.
  - 따라서 제 3자 호스트에서 폰트를 불러오는 것 보다는 웹사이트와 동일한 곳에서 폰트를 호스팅하거나, 브라우저에 최우선 리소스임을 알려주는 방식으로 해결하는게 좋다.

### Filmstrip

웹사이트를 마치 필름을 보는 것처럼 시간의 흐름에 따라 어떻게 웹사이트가 그러졌는지, 또 이때 어떤 리소스가 불러와졌는지 볼 수 있는 메뉴다.

### Details

앞서 Filmstrip에서 보여준 내용을 자세하게 보여주는 영역이다.

### Web Vitals

최대 콘텐츠풀 페인트(LCP), 누적 레이아웃 이동(CLS), 총 블로킹 시간(TBT)에 대한 자세한 내용을 확인할 수 있다.

### Optimizations

최적화 관련된 메뉴로, 리소스들이 얼마나 최적화돼 있는지 나타낸다.

- Keep-Alive 설정으로 서버와의 연결을 계속 유지하고 있는지
- Gzip으로 리소스를 압축하고 있는지
- 이미지를 적절하게 압축했는지
- Progressive JPEG으로 JPEG 이미지를 렌더링하고 있는지
- 리소스 캐시 정책이 올바르게 수립돼 있는지
- 리소스가 CDN을 거치고 있는지

### Content

웹사이트에서 제공하는 콘텐츠, 에셋을 종류별로 묶어 통계를 보여준다. 애셋 종류별 크기와 로딩 과정을 확인할 수 있으며, 시간의 흐름에 따라 렌더링을 거치면서 어떻게 애셋을 불러오는지도 확인할 수 있다.

### Domains

Content 메뉴에서 보여준 애셋들이 어느 도메인에서 왔는지, 그리고 도메인 별로 요청한 크기는 어느정도인지를 확인할 수 있다.

중요 리소스는 웹사이트와 같은 곳에서 요청할수록 도메인 연결에 소요되는 비용을 줄일 수 있다.

### Console Log

사용자가 웹페이지에 접속했을 때 `console.log`로 무엇이 기록됐는지 확인할 수 있다.

대부분의 경우 console.log는 사용자가 확인할 수 없을 뿐더러, console.log 자체도 부하가 발생하는 작업이므로 가급적 사용을 자제하자.

개발자만 봐야 하는 정보도 console.log로 찍히지 않도록 주의.

### Detected Tech

웹사이트를 개발하는 데 사용된 기술을 확인할 수 있다.

평소에 관심이 있거나 신기한 웹사이트가 있었다면 이 메뉴로 검색해 어떻게 만들었는지를 짐작해보자.

### Main-thread Processing

#### Processing Breakdown

- Main-thread Processing 메뉴의 하위 항목 중 하나로, 메인 스레드가 어떤 작업을 처리했는지 확인할 수 있다.
- 리소스를 기다리는 idle time, 즉 유휴 시간은 집계에 포함하지 않는다.
- 메인 스레드의 작업을 크게 아래 다섯 가지로 분류해 알려준다.
  - 스크립트 실행
  - 레이아웃
  - 리소스 로딩
  - 페인팅
  - 기타

#### Timing Breakdown

- 해당 하위 항목에서는 유휴 시간을 포함해 메인 스레드의 작업을 확인할 수 있다.

### Lighthouse Report

구글 라이트하우스 리포트를 확인할 수 있다.

크롬 개발자 도구에서 확인할 수 있는 라이트하우스 도구와 다르게, 개발자의 브라우저가 아닌 원격지의 다소 일반적인 모바일 기기의 브라우저에서 측정된다는 것 외에는 별 차이가 없다.

### 기타

이 외의 메뉴는 WebPageTest 외부에서 제공하는 서비스로, 링크를 클릭하면 모두 외부 페이지로 이동한다.

Image Analysis, Request Map, Data Cost, Security Score 등의 서비스를 제공한다.

## 크롬 개발자 도구

### 성능 통계

크롬 102 버전부터 출시되었고, 2022년 12월 기준으로 실험 모드로 제작됐다. 따라서 이후 변경의 여지가 있다. → Chrome 132 버전부터 성능 통계 삭제되고, 유의미하다고 생각되는 기능들은 성능 탭에 병합됨.

https://developer.chrome.com/docs/devtools/performance-insights?hl=en

#### Insights

_(성능 탭의 왼쪽 사이드바에 있음)_

성능을 측정하는 기간 동안 발생한 이벤트 중 눈여겨봐야 할 내용을 시간의 흐름에 따라 모아서 보여준다.

- 핵심 웹 지표 : 핵심 웹 지표(FCP, LCP, Dom Content Loaded)가 언제 일어났는지 보여줌.
- Performance Measure : User Timing API 로 측정한 지표들을 확인할 수 있다. 만약 Next.js로 제작된 앱이면 이 API를 사용한 흔적을 볼 수 있다.
- Long Task : Insight 탭에서 가장 주목해야 한다. 이 작업은 메인 스레드에서 실행되는 데 오랜 시간으로 분류된 긴 작업을 의미한다. 해당 Long Task를 선택하면 어떤 함수로 인해 오랜 시간이 걸렸는지 확인 가능하다.
- Render blocking CSS : 말 그대로 렌더링을 막는 CSS라는 뜻이다. 해당 항목을 클릭해 어떤 리소스가 렌더링을 막고 있는지 확인 가능하다.
- Forced Style recalculation : 이미 스타일이 한번 계산된 이후, 어떠한 이유로 스타일이 다시금 계산되는 작업이 강제로 발생했음을 의미한다.

### 성능

이름 그대로 웹사이트 성능 분석을 위해 만들어진 탭이다.

#### 메뉴

성능 탭에서 사용할 수 있는 메뉴를 화깅ㄴ 가능하다. 성능 측정 시작 버튼, 새로고침 버튼, 의도적으로 스크롤링을 적용하거나 측정 프로필을 저장 및 불러오는 기능 등에 접근할 수 있다.

#### 요약

측정 기간의 CPU, 네트워크 요청, 스크린샷, 메모리 점유율 등을 요약해서 볼 수 있다.

요약 탭이 중요한 이유는 드래그를 통해 원하는 시점을 선택하거나 이동할 수 있다는 점이다. 시점을 선택하면 해당 시점과 관련된 정보만 하단에 더 자세히 노출된다.

#### 네트워크

성능 측정 기간 동안에 발생하는 모든 네트워크 요청을 확인할 수 있다. 각 색깔에 따라 어떤 종류의 요청인지 확인할 수 있다. 또한, 위쪽에 있는 요청일수록 우선순위 가 높다.

- 파란색 : HTML
- 보라색 : CSS
- 노란색 : JS
- 초록색 : 이미지
- 회색 : 기타 (폰트, JSON 등)

그래프를 읽는 방법은 다음과 같다. 실제 다운로드를 시작하기 위해 대기하는 시간과 다운로드에 걸리는 시간 모두를 확인할 수 있다.

- 왼쪽 선은 연결이 시작되기 위한 기간을 나타낸다.
- 대표 색상의 막대 그래프 중 색이 더 연한 왼쪽은 요청을 보내고 최초 바이트가 오기까지의 대기 시간을 의미한다.
- 대표 색상의 막대 그래프 중 색이 진한 오른쪽은 콘텐츠를 다운로드하는 데 걸리는 시간을 의미한다.
  - 진한 색 영역이 크다면 내용이 큰 파일이라는 뜻이므로 파일 크기를 줄일 필요가 있으며, 연한 색 영역이 크다면 다운로드 요청에 대한 응답을 받는 데 오래 걸린다는 것을 알 수 있다.
- 마지막에 거의 안 보이는 오른쪽 선은 메인 스레드의 응답을 기다리는 시간인데, 이는 네트워크의 소요 시간에 포함하지 않는다.

#### Web vitals

핵심 웹 지표 시점을 확인할 수 있는 영역이다. (근데 내 개발자도구에서는 활성화가 안돼있음)

#### 소요 시간과 기본

성능 탭의 핵심이자 꽃이라 부를 수 있는 부분.

시간의 흐름에 따라 메인 스레드의 작업은 어떻게 이뤄졌는지, 또 자바스크립트 힙 영역은 어떻게 변화하는지 등을 확인할 수 있다. 메인스레드에서 연쇄적으로 일어나는 작업을 한눈에 보기에 매우 적합하다.

- 작업, 스크립트 평가, 마이크로 태스크 실행
  - 자바스크립트 엔진과 관련된 내용. 실제 코드와 관련된 작업은 그 밑에서부터 확인할 수 있다.
  - 해당 영역을 클릭하면 해당 영역에서 실행된 함수를 확인 가능하다.
- 하단의 그래프는 JS 힙의 변화, 노드, 리스너 등의 변화를 그래프로 볼 수 있는 영역이다.
